# WebSocket DB

## Requirements

`Docker Desktop` https://www.docker.com/products/docker-desktop/ 

or 

`Colima` https://github.com/abiosoft/colima + `Docker Compose` https://docs.docker.com/compose/install/linux/#install-the-plugin-manually


## Demo

1. Install `docker compose`: https://docs.docker.com/compose/install/
2. Run `docker compose up`
3. Open `http://localhost:8000`


## Architecture

### Server

`GET /version.json` - health check API handler

`GET /api/v1/table` - list of tables

`GET /api/v1/table/:name` - table metadata + data rows

`POST /api/v1/table/:name` - insert row data into table

`PUT /api/v1/table/:name/:_id` - update row data

`DELETE /api/v1/table/:name/:_id` - remove row data

`WS /api/v1/ws` - WebSocket subscriptions API

Input events type see `WebSocketClientEventSchema.ts` (subscribe, unsubscribe)

Output events type see `WebSocketServerEventSchema.ts` (init, insert, update, remove)

`_id` - autogenerated primary key inspired by MongoDB ObjectId

### Client

Feature Sliced Design https://feature-sliced.design/

Typescript lib to work with server subscriptions API:

DBConnector `./wsdb-client-app/src/entities/app/libs/DBConnector/DBConnector.ts`

### Tech Roadmap

See Server related roadmap `./wsdb-server/readme.md`

See Client App related roadmap `./wsdb-client-app/readme.md`
